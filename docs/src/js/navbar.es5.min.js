// Navbar.js v3.1.0alpha1 | thednp Â© 2022 | MIT-License
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).Navbar=n()}(this,(function(){"use strict";var e=function(e){return e&&1===e.nodeType||!1},n=new Map,t=function(t,i,r,o){e(t)&&(o&&o.length?(n.has(t)||n.set(t,new Map),n.get(t).set(o,setTimeout(i,r))):n.set(t,setTimeout(i,r)))},i=function(t,i){if(!e(t))return null;var r=n.get(t);return i&&i.length&&r&&r.get?r.get(i)||null:r||null},r=function(t,i){if(e(t))if(i&&i.length){var r=n.get(t);r&&r.get&&(clearTimeout(r.get(i)),r.delete(i),0===r.size&&n.delete(t))}else clearTimeout(n.get(t)),n.delete(t)},o=function(e){return e&&[1,2,3,4,5,6,7,8,9,10,11].some((function(n){return+e.nodeType===n}))||!1},a=function(e){return e&&9===e.nodeType||!1};function u(e){return a(e)?e:o(e)?e.ownerDocument:(n=e)&&"Window"===n.constructor.name?e.document:window.document;var n}function s(e){return e?a(e)?e.defaultView:o(e)?e.ownerDocument.defaultView:e:window}function c(e,n){var t=getComputedStyle(e);return n.includes("--")?t.getPropertyValue(n):t[n]}var l=function(e,n){return e.dispatchEvent(n)};function f(e,n){var t=0,i=new Event("transitionend"),r=function(e){var n=c(e,"transitionProperty"),t=c(e,"transitionDuration"),i=t.includes("ms")?1:1e3,r=n&&"none"!==n?parseFloat(t)*i:0;return Number.isNaN(r)?0:r}(e),o=function(e){var n=c(e,"transitionProperty"),t=c(e,"transitionDelay"),i=t.includes("ms")?1:1e3,r=n&&"none"!==n?parseFloat(t)*i:0;return Number.isNaN(r)?0:r}(e);if(r){var a=function(i){i.target===e&&(n.apply(e,[i]),e.removeEventListener("transitionend",a),t=1)};e.addEventListener("transitionend",a),setTimeout((function(){t||l(e,i)}),r+o+17)}else n.apply(e,[i])}var v={passive:!0};function d(e){return!!["true",!0].includes(e)||!["false",!1].includes(e)&&(""===e||"null"===e?null:""===e||Number.isNaN(+e)?e:+e)}var p=function(e){return Object.keys(e)};var g=function(e,n){return Object.assign(e,n)};function h(e,n){var t=new CustomEvent(e,{cancelable:!0,bubbles:!0});return"object"==typeof n&&g(t,n),t}var m=new Map,b={set:function(n,t,i){e(n)&&(m.has(t)||m.set(t,new Map),m.get(t).set(n,i))},getAllFor:function(e){return m.get(e)||null},get:function(n,t){if(!e(n)||!t)return null;var i=b.getAllFor(t);return n&&i&&i.get(n)||null},remove:function(n,t){var i=m.get(t);i&&e(n)&&(i.delete(n),0===i.size&&m.delete(t))}};function w(e,n){e.classList.add(n)}function E(e,n){return e.classList.contains(n)}function y(e,n){e.classList.remove(n)}var A=function(e){return"rtl"===function(e){return u(e).documentElement}(e).dir},L=function(e,n,t){return e.setAttribute(n,t)};function N(e,n){return(o(n)?n:u()).getElementsByClassName(e)}function T(e,n){return(o(n)?n:u()).getElementsByTagName(e)}function x(e,n){return e?e.closest(n)||x(e.getRootNode().host,n):null}function z(e,n){return e.matches(n)}var C={};function D(e){var n=this,t=e.type;[].concat(C[t]).forEach((function(i){var r=i[0],o=i[1];r===n&&[].concat(o).forEach((function(n){var i=n[0],o=n[1];i.apply(r,[e]),o&&o.once&&R(r,t,i,o)}))}))}var P=function(e,n,t,i){C[n]||(C[n]=new Map);var r=C[n];r.has(e)||r.set(e,new Map);var o=r.get(e),a=o.size;o.set(t,i),a||e.addEventListener(n,D,i)},R=function(e,n,t,i){var r=C[n],o=r&&r.get(e),a=o&&o.get(t),u=(void 0!==a?a:{options:i}).options;o&&o.has(t)&&o.delete(t),!r||o&&o.size||r.delete(e),r&&r.size||delete C[n],o&&o.size||e.removeEventListener(n,D,u)},S='[data-function="navbar"]',M={breakpoint:768,toggleSiblings:!0,delay:500},j=h("show.navbar"),k=h("shown.navbar"),O=h("hide.navbar"),F=h("hidden.navbar"),I=function(e){return n=e,t="Navbar",b.get(n,t);var n,t};function U(e,n){(n?P:R)(s(e.menu),"resize",e.listenResize,v)}function V(e){var n=e.options,t=e.menu,i=N("subnav-toggle",t)[0];return i&&"none"!==c(i,"display")||s(t).innerWidth<n.breakpoint}function B(e,n){var t=n?P:R,i=e.items,r=e.navbarToggle,o=e.menu;[].concat(i).forEach((function(e){var n=e.lastElementChild;n&&E(n,"subnav")&&(t(e,"mouseenter",J),t(e,"mouseleave",K));var i=N("subnav-toggle",e)[0];i&&t(i,"click",H)})),t(o,"keydown",G),r&&t(r,"click",H)}function W(e,n){return[].concat(e.children).find((function(e){return z(e,n)}))}function q(e,n){var t=W(e,".subnav"),i=W(e,"A"),o=W(e,"subnav-toggle"),a=function(){y(e,"open-position"),r(e,"out"),i&&(l(i,F),L(i,"aria-expanded","false"))};if(E(e,"open")){if(i&&(l(i,O),O.defaultPrevented))return;y(e,"open"),n&&t?f(t,a):a()}if(E(e,"open-mobile")){if(i&&l(i,O),O.defaultPrevented)return;y(e,"open-mobile"),[o,i].forEach((function(e){e&&L(e,"aria-expanded","false")})),i&&l(i,F)}}function Z(e){[].concat(e).forEach((function(e){return q(e)}))}function G(e){var n=e.code,t=u(this).activeElement,i=I(this);if(i&&t&&this.contains(t)){var r=x(t,"LI");if(r){var o=V(i),a=r.previousElementSibling,s=r.nextElementSibling,l=x(r,".open"),f=x(r,"UL"),v=N("subnav",r)[0],d=["Space","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"],p=f&&"column"===c(f,"flex-direction"),g=A(r),h=f&&a&&("ArrowUp"===n&&p||n===(g?"ArrowRight":"ArrowLeft")&&!p),m=f&&s&&("ArrowDown"===n&&p||n===(g?"ArrowLeft":"ArrowRight")&&!p),b=null;if("Escape"===n&&l?(K.call(l),b=l):!o&&v&&"Space"===n&&(E(r,"open")?K.call(r):J.call(r)),h&&r!==f.firstElementChild?b=a:m&&r!==f.lastElementChild&&(b=s),b){var w=b.firstElementChild;w&&w.focus()}!o&&d.includes(n)&&e.preventDefault()}}}function H(e){e.preventDefault();var n=e.target,t=x(this,S+",.navbar"),i=t&&I(t);if(i){var r=i.options,o=i.navbarToggle;if(n===this||this.contains(n)){var a=x(this,"LI")||t,u=x(this,".navbar-toggle")===o?o:W(a,"subnav-toggle"),s=u===o?null:W(a,"A"),c=N("open-mobile",a);if(E(a,"open-mobile")){if(s&&s.dispatchEvent(O),O.defaultPrevented)return;Z(c),y(a,"open-mobile"),u&&(L(u,"aria-expanded","false"),u===o&&U(i)),s&&(L(s,"aria-expanded","false"),s.dispatchEvent(F))}else{if(s&&s.dispatchEvent(j),j.defaultPrevented)return;if(u===o)U(i,!0);else Z(r.toggleSiblings?N("open-mobile",a.parentElement):c);w(a,"open-mobile"),u&&L(u,"aria-expanded","true"),s&&(L(s,"aria-expanded","true"),s.dispatchEvent(k))}}}}function J(){var e=this,n=x(e,S+",.navbar"),o=n&&I(n),a=i(e,"out");if(o&&!V(o)&&(r(e,"out"),!E(e,"open")&&!a)){t(e,(function(){return function(e){var n=W(e,".subnav"),t=W(e,"A"),i=function(){r(e,"in"),t&&(l(t,k),L(t,"aria-expanded","true"))};if(!t||(l(t,j),!j.defaultPrevented)){w(e,"open-position"),w(e,"open");var o=e.parentElement;if(o){var a=N("open",o);Z([].concat(a).filter((function(n){return n!==e})))}n?f(n,i):i()}}(e)}),17,"in")}}function K(){var e=this,n=x(e,S+",.navbar"),i=n&&I(n);if(i&&!V(i)&&E(e,"open")){r(e,"in");t(e,(function(){return q(e,!0)}),i.options.delay,"out")}}var Q=function(e,n){var t,i,r;this.menu=o(i=e)?i:(o(r)?r:u()).querySelector(i);var a=this.menu;if(a){var s,c,l,f,v,g,h,m=I(a);m&&m.dispose(),this.options=(s=a,c=M,l=n||{},f="",v=Object.assign({},s.dataset),g={},h={},p(v).forEach((function(e){var n=f&&e.includes(f)?e.replace(f,"").replace(/[A-Z]/,(function(e){return e.toLowerCase()})):e;h[n]=d(v[e])})),p(l).forEach((function(e){l[e]=d(l[e])})),p(c).forEach((function(e){g[e]=e in l?l[e]:e in h?h[e]:"title"===e?function(e,n){return e.getAttribute(n)}(s,"title"):c[e]})),g),this.items=T("LI",a),this.navbarToggle=null,t=N("navbar-toggle",a),this.navbarToggle=t[0],this.listenResize=this.listenResize.bind(this),B(this,!0),b.set(a,"Navbar",this)}},X={defaults:{configurable:!0},version:{configurable:!0},name:{configurable:!0}};X.defaults.get=function(){return M},X.version.get=function(){return"3.1.0alpha1"},X.name.get=function(){return"Navbar"},Q.prototype.listenResize=function(){V(this)||(Z(N("open-mobile")),U(this))},Q.prototype.dispose=function(){Z(this.items),B(this),U(this),b.remove(this.menu,"Navbar")},Object.defineProperties(Q.prototype,X),g(Q,{selector:S,init:function(e){return new Q(e)},getInstance:I});function Y(e){var n=Q.selector,t=Q.init,i=T("*",u(e));[].concat(i).filter((function(e){return z(e,n)})).forEach(t)}return document.body?Y():document.addEventListener("DOMContentLoaded",Y,{once:!0}),Q}));
