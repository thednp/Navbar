// Navbar.js v3.0.0 | thednp Â© 2021 | MIT-License
const e="webkitTransition"in document.head.style?"webkitTransitionEnd":"transitionend",t="webkitTransition"in document.head.style||"transition"in document.head.style,n="webkitTransition"in document.head.style?"webkitTransitionDuration":"transitionDuration",a="webkitTransition"in document.head.style?"webkitTransitionProperty":"transitionProperty";function o(o,s){let i=0;const r=new Event(e),c=function(e){const o=getComputedStyle(e),s=o[a],i=o[n],r=i.includes("ms")?1:1e3,c=t&&s&&"none"!==s?parseFloat(i)*r:0;return Number.isNaN(c)?0:c}(o);c?(o.addEventListener(e,(function t(n){n.target===o&&(s.apply(o,[n]),o.removeEventListener(e,t),i=1)})),setTimeout(()=>{i||o.dispatchEvent(r)},c+17)):s.apply(o,[r])}var s=!!(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,e)});document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e,t)}),t)}catch(e){throw Error("Passive events are not supported")}return e})()&&{passive:!0};function i(e,t){const n=t&&t instanceof Element?t:document;return e instanceof Element?e:n.querySelector(e)}function r(e){return"true"===e||"false"!==e&&(Number.isNaN(+e)?""===e||"null"===e?null:e:+e)}function c(e,t){e.classList.add(t)}function l(e,t){return e.classList.contains(t)}function u(e,t){e.classList.remove(t)}const d='[data-function="navbar"]',m={breakpoint:768,toggleSiblings:!0,delay:500},v=new CustomEvent("show.navbar",{cancelable:!0}),b=new CustomEvent("shown.navbar",{cancelable:!0}),p=new CustomEvent("hide.navbar",{cancelable:!0}),f=new CustomEvent("hidden.navbar",{cancelable:!0});function E(e){const t=e?"addEventListener":"removeEventListener";document.querySelector("li.open-mobile")||window[t]("resize",g,s)}function g(){w(document.getElementsByClassName("open-mobile")),E()}function h(e){const{options:t,menu:n}=e,[a]=n.getElementsByClassName("subnav-toggle");return a&&"none"!==getComputedStyle(a).display||window.innerWidth<t.breakpoint}function y(e,t){const n=t?"addEventListener":"removeEventListener",{items:a,navbarToggle:o,menu:s}=e;Array.from(a).forEach(e=>{l(e.lastElementChild,"subnav")&&(e[n]("mouseenter",C),e[n]("mouseleave",A));const[t]=e.getElementsByClassName("subnav-toggle");t&&t[n]("click",T)}),s[n]("keydown",L),o&&o[n]("click",T)}function N(e,t){const n=i(".subnav",e),[a]=e.getElementsByClassName("subnav-toggle"),[s]=e.getElementsByTagName("A"),r=()=>{u(e,"open-position"),e.dispatchEvent(f)};if(l(e,"open")){if(e.dispatchEvent(p),p.isDefaultPrevented)return;u(e,"open"),t?o(n,r):r(),s&&s.setAttribute("aria-expanded",!1)}if(l(e,"open-mobile")){if(e.dispatchEvent(p),p.isDefaultPrevented)return;u(e,"open-mobile"),[a,s].forEach(e=>{e&&e.setAttribute("aria-expanded",!1)}),e.dispatchEvent(f)}}function w(e){Array.from(e).forEach(e=>N(e))}function L(e){const{which:t}=e,{activeElement:n}=document,a=this.Navbar,o=n.closest("LI"),s=n.closest(".open"),r=i(".subnav",o),c=h(a);!c&&this.contains(n)&&32===t&&e.preventDefault(),27===t&&s&&A.call(s),o&&r&&!c&&32===t&&(l(o,"open")?A.call(o):C.call(o))}function T(e){e.preventDefault();const{target:t}=e,n=this,a=n.closest(d+",.navbar"),o=a.Navbar,{options:s,navbarToggle:i}=o;if(o&&(t===n||n.contains(t))){const e=n.closest("LI")||a,t=n.closest(".navbar-toggle")===i?i:e.getElementsByClassName("subnav-toggle")[0],o=t===i?null:e.getElementsByTagName("A")[0],r=e.getElementsByClassName("open-mobile");if(l(e,"open-mobile")){if(e.dispatchEvent(p),p.isDefaultPrevented)return;w(r),u(e,"open-mobile"),t&&(t.setAttribute("aria-expanded",!1),E()),o&&o.setAttribute("aria-expanded",!1),e.dispatchEvent(f)}else{if(e.dispatchEvent(v),t!==i&&E(1),v.isDefaultPrevented)return;if(t!==i){w(s.toggleSiblings?e.parentNode.getElementsByClassName("open-mobile"):r)}c(e,"open-mobile"),t&&t.setAttribute("aria-expanded",!0),o&&o.setAttribute("aria-expanded",!0),e.dispatchEvent(b)}}}function C(){const e=this,t=e.closest(d+",.navbar"),n=t&&t.Navbar;clearTimeout(n.timer),n&&!h(n)&&(n.timer=setTimeout(()=>function(e){const t=i(".subnav",e);if(e.dispatchEvent(v),v.isDefaultPrevented)return;c(e,"open-position"),c(e,"open");const[n]=e.getElementsByTagName("A");n&&n.setAttribute("aria-expanded",!0);const a=e.parentNode.getElementsByTagName("LI");w(Array.from(a).filter(t=>t!==e)),o(t,()=>{e.dispatchEvent(b)})}(e),17))}function A(){const e=this,t=e.closest(d+",.navbar"),n=t&&t.Navbar;n&&!h(n)&&(clearTimeout(n.timer),n.timer=setTimeout(()=>N(e,1),n.options.delay))}class k{constructor(e,t){const n=this;n.menu=i(e);const{menu:a}=n;a.Navbar&&a.Navbar.dispose(),n.options=function(e,t,n,a){const o={},s={},i={...e.dataset};return Object.keys(i).forEach(e=>{const t=e.includes(a)?e.replace(a,"").replace(/[A-Z]/,e=>e.toLowerCase()):e;s[t]=r(i[e])}),Object.keys(n).forEach(e=>{n[e]=r(n[e])}),Object.keys(t).forEach(e=>{o[e]=e in n?n[e]:e in s?s[e]:t[e]}),o}(a,m,t||{}),n.items=a.getElementsByTagName("LI"),[n.navbarToggle]=a.getElementsByClassName("navbar-toggle"),n.timer=null,y(n,1),a.Navbar=n}dispose(){w(this.items),y(this),E(),delete this.menu.Navbar}}function B(e){const t=e instanceof Element?e:document,{selector:n,constructor:a}=k.init,o=t.querySelectorAll(n);Array.from(o).map(e=>new a(e))}k.init={component:"Navbar",selector:d,constructor:k,version:"3.0.0"},document.body?B():document.addEventListener("DOMContentLoaded",B,{once:!0});export default k;
